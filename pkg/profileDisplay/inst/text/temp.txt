<html>
<head>
<style type="text/css">
.over1{background:#E79608;}.line{color:gray;}.k{background:#D0870E;}.line{color:gray;}.j{background:#B97811;}.line{color:gray;}.i{background:#A36A13;}.line{color:gray;}.h{background:#8D5D14;}.line{color:gray;}.g{background:#784F14;}.line{color:gray;}.f{background:#644213;}.line{color:gray;}.e{background:#503512;}.line{color:gray;}.d{background:#3D2910;}.line{color:gray;}.c{background:#2B1E0D;}.line{color:gray;}.b{background:#1A1206;}.line{color:gray;}.a{background:#000000;}.line{color:gray;} 
</style>
</head>
<body>
<pre>
<span class="line">01  </span> <span class="a">Rprof</span> <span class="a">(</span> <span class="a">line.profiling</span> <span class="a">=</span> <span class="a">TRUE</span> <span class="a">,</span>  <span class="a">memory.profiling</span> <span class="a">=</span> <span class="a">TRUE</span> <span class="a">)</span>
<span class="line">02  </span>
<span class="line">03  </span> <span class="a">Eratosthenes</span>  <span class="a">&lt;-</span>  <span class="a">function</span> <span class="a">(</span> <span class="a">n</span> <span class="a">)</span>  <span class="a">{</span>
<span class="line">04  </span>   <span class="a"># Return all prime numbers up to n</span>
<span class="line">05  </span>   <span class="a"># (based on the sieve of Eratosthenes</span>
<span class="line">06  </span>   <span class="a">if</span>  <span class="a">(</span> <span class="a">n</span>  <span class="a">&gt;=</span>  <span class="a">2</span> <span class="a">)</span>  <span class="a">{</span>
<span class="line">07  </span>     <span class="a">sieve</span>  <span class="a">&lt;-</span>  <span class="a">seq</span> <span class="a">(</span> <span class="a">2</span> <span class="a">,</span>  <span class="a">n</span> <span class="a">)</span>
<span class="line">08  </span>     <span class="a">primes</span>  <span class="a">&lt;-</span>  <span class="a">c</span> <span class="a">(</span> <span class="a">)</span>
<span class="line">09  </span>     <span class="b">for</span>  <span class="b">(</span> <span class="b">i</span>  <span class="b">in</span>  <span class="b">seq</span> <span class="b">(</span> <span class="b">2</span> <span class="b">,</span>  <span class="b">n</span> <span class="b">)</span> <span class="b">)</span>  <span class="b">{</span>
<span class="line">10  </span>       <span class="over1">if</span>  <span class="over1">(</span> <span class="over1">any</span> <span class="over1">(</span> <span class="over1">sieve</span>  <span class="over1">==</span>  <span class="over1">i</span> <span class="over1">)</span> <span class="over1">)</span>  <span class="over1">{</span>
<span class="line">11  </span>         <span class="d">primes</span>  <span class="d">&lt;-</span>  <span class="d">c</span> <span class="d">(</span> <span class="d">primes</span> <span class="d">,</span>  <span class="d">i</span> <span class="d">)</span>
<span class="line">12  </span>         <span class="over1">sieve</span>  <span class="over1">&lt;-</span>  <span class="over1">sieve</span> <span class="over1">[</span> <span class="over1">(</span> <span class="over1">sieve</span>  <span class="over1">%%</span>  <span class="over1">i</span> <span class="over1">)</span>  <span class="over1">!=</span>  <span class="over1">0</span> <span class="over1">]</span>
<span class="line">13  </span>       <span class="a">}</span>
<span class="line">14  </span>     <span class="a">}</span>
<span class="line">15  </span>     <span class="a">return</span> <span class="a">(</span> <span class="a">primes</span> <span class="a">)</span>
<span class="line">16  </span>   <span class="a">}</span>  <span class="a">else</span>  <span class="a">{</span>
<span class="line">17  </span>     <span class="a">stop</span> <span class="a">(</span> <span class="a">"Input value of n should be at least 2."</span> <span class="a">)</span>
<span class="line">18  </span>   <span class="a">}</span>
<span class="line">19  </span> <span class="a">}</span>
<span class="line">20  </span>
<span class="line">21  </span> <span class="a">Eratosthenes</span> <span class="a">(</span> <span class="a">10000</span> <span class="a">)</span>
<span class="line">22  </span> <span class="a">Eratosthenes</span> <span class="a">(</span> <span class="a">100000</span> <span class="a">)</span>
<span class="line">23  </span> <span class="a">Eratosthenes</span> <span class="a">(</span> <span class="a">50000</span> <span class="a">)</span>
<span class="line">24  </span> <span class="a">#</span>
<span class="line">25  </span>
<span class="line">26  </span> <span class="a">Rprof</span> <span class="a">(</span> <span class="a">NULL</span> <span class="a">)</span>
<span class="line">27  </span>
<span class="line">28  </span> <span class="a">summaryRprof</span> <span class="a">(</span> <span class="a">lines</span> <span class="a">=</span> <span class="a">"show"</span> <span class="a">)</span>
</pre>
</body>
</html>
